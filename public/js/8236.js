"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8236],{9497:(t,e,a)=>{function s(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}a.d(e,{Z:()=>i});const i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.url=e.url,this.prefix=e.prefix,this.filters={},this.sort={field:"id",direction:"desc"},this.filters.size=10,this.filters.search="",this.loading=!1,this.page=1,this.content={current_page:1,data:[],total:0,to:0}}var e,a,i;return e=t,(a=[{key:"build",value:function(){var t="".concat(window.location.origin).concat(this.url,"?page=").concat(this.page);for(var e in this.filters)void 0!==this.filters[e]&&(t+="&".concat(e,"=").concat(this.filters[e]));return t+"&sort=".concat(this.sort.field,",").concat(this.sort.direction)}},{key:"fetch",value:function(){this.load(!1)}},{key:"append",value:function(){this.load(!0)}},{key:"load",value:function(t){var e=this;this.openLoader(),this.page=t?this.page+1:1,window.axios.get(this.build()).then((function(a){if(t)return a.data.body[e.prefix].data.forEach((function(t){e.content.data.push(t)})),e.content.to=a.data.body[e.prefix].to,void(e.content.total=a.data.body[e.prefix].total);e.content=a.data.body[e.prefix]})).catch((function(t){})).finally((function(){e.closeLoader()}))}},{key:"openLoader",value:function(){this.loading=!0}},{key:"closeLoader",value:function(){this.loading=!1}}])&&s(e.prototype,a),i&&s(e,i),t}()},5725:(t,e,a)=>{a.d(e,{Z:()=>r});var s=a(9497);const i={name:"page-index",props:["url","prefix","name"],data:function(){return{data:new s.Z({url:this.url,prefix:this.prefix})}},mounted:function(){this.data.fetch()}};const r=(0,a(1900).Z)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("form",{staticClass:"card",on:{submit:function(e){return e.preventDefault(),t.data.fetch()}}},[a("div",{staticClass:"card-body d-flex flex-wrap flex-fill"},[t._t("filters",null,{filters:t.data.filters}),t._v(" "),a("div",{staticClass:"flex-fill form-group mr-2"},[a("div",{staticClass:"app-search"},[a("div",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.filters.search,expression:"data.filters.search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.data.filters.search},on:{input:function(e){e.target.composing||t.$set(t.data.filters,"search",e.target.value)}}}),t._v(" "),a("span",{staticClass:"mdi mdi-magnify"}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("button",{class:["btn btn-primary",t.data.loading?"btn-loading":""],attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.data.fetch()}}},[t._v("Search")])])])])])]),t._v(" "),a("div",{staticClass:"form-group"},[a("button",{class:["btn btn-primary",t.data.loading?"btn-loading":""],on:{click:function(e){return t.data.fetch()}}},[a("i",{staticClass:"mdi mdi-autorenew"})]),t._v(" "),t._t("actions")],2)],2)])]),t._v(" "),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"d-flex align-items-center p-3 flex-wrap"},[a("div",{staticClass:"h4 m-o"},[t._v("\n                    "+t._s(t.name)+"\n                ")]),t._v(" "),a("div",{staticClass:"ml-auto mr-3 d-flex align-items-center"},[a("div",{staticClass:"mr-2"},[t._v("Showing")]),t._v(" "),a("div",{staticClass:"form-group mb-0"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.data.filters.size,expression:"data.filters.size"}],staticClass:"custom-select",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.data.filters,"size",e.target.multiple?a:a[0])},function(e){return t.data.fetch()}]}},[a("option",{attrs:{value:"10"}},[t._v("10")]),t._v(" "),a("option",{attrs:{value:"15"}},[t._v("15")]),t._v(" "),a("option",{attrs:{value:"25"}},[t._v("25")]),t._v(" "),a("option",{attrs:{value:"30"}},[t._v("30")]),t._v(" "),a("option",{attrs:{value:"50"}},[t._v("50")]),t._v(" "),a("option",{attrs:{value:"100"}},[t._v("100")])])])]),t._v(" "),a("div",{staticClass:"mr-3 d-flex align-items-center"},[a("div",{staticClass:"mr-2"},[t._v("Sort By")]),t._v(" "),a("div",{staticClass:"form-group mb-0"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.data.sort.field,expression:"data.sort.field"}],staticClass:"custom-select",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.data.sort,"field",e.target.multiple?a:a[0])},function(e){return t.data.fetch()}]}},[a("option",{attrs:{value:"id"}},[t._v("ID")]),t._v(" "),t._t("sort-fields")],2)])]),t._v(" "),a("div",{staticClass:"d-flex align-items-center"},[a("div",{staticClass:"form-group mb-0"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.data.sort.direction,expression:"data.sort.direction"}],staticClass:"custom-select",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.data.sort,"direction",e.target.multiple?a:a[0])},function(e){return t.data.fetch()}]}},[a("option",{attrs:{value:"asc"}},[t._v("Ascending")]),t._v(" "),a("option",{attrs:{value:"desc"}},[t._v("Descending")])])])])]),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-centered mb-0"},[a("thead",{staticClass:"thead-light"},[a("tr",[a("th"),t._v(" "),t._t("table-header"),t._v(" "),a("th")],2)]),t._v(" "),a("tbody",t._l(t.data.content.data,(function(e){return a("tr",[a("td"),t._v(" "),t._t("table-row",null,{row:e}),t._v(" "),a("td")],2)})),0)])]),t._v(" "),a("div",{staticClass:"card-body d-flex align-items-center border-top"},[a("div",{staticClass:"mr-auto font-weight-bolder"},[t._v("\n                    Showing "+t._s(t.data.content.data.length)+" of "+t._s(t.data.content.total)+" Records\n                ")]),t._v(" "),t.data.content.total!==t.data.content.to&&t.data.content.data.length>0?a("div",[a("button",{class:["btn btn-primary",t.data.loading?"btn-loading":""],on:{click:function(e){return t.data.append()}}},[t._v("Load More")])]):t._e()])])])])}),[],!1,null,null,null).exports},8236:(t,e,a)=>{a.r(e),a.d(e,{default:()=>i});const s={components:{PageIndex:a(5725).Z}};const i=(0,a(1900).Z)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-index",{attrs:{url:"/admin/portal/transactions",prefix:"list",name:"Transactions"},scopedSlots:t._u([{key:"filters",fn:function(e){return[a("div",{staticClass:"d-flex row align-items-center form-group mr-3"},[a("div",{staticClass:"mr-3 d-flex align-items-center"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.filters.state,expression:"data.filters['state']"}],staticClass:"custom-select",attrs:{type:"text"},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e.filters,"state",a.target.multiple?s:s[0])}}},[a("option",{domProps:{value:void 0}},[t._v("Choose State")]),t._v(" "),a("option",{attrs:{selected:"",value:"COMPLETED"}},[t._v("COMPLETED")]),t._v(" "),a("option",{attrs:{value:"PENDING-AUTHORISATION"}},[t._v("PENDING AUTHORISATION")]),t._v(" "),a("option",{attrs:{value:"PAYMENT-COMPLETED"}},[t._v("PAYMENT COMPLETED")]),t._v(" "),a("option",{attrs:{value:"PAYMENT-FAILED"}},[t._v("PAYMENT FAILED")]),t._v(" "),a("option",{attrs:{value:"BILL-ABORTED"}},[t._v("BILL ABORTED")]),t._v(" "),a("option",{attrs:{value:"BILL-FAILED"}},[t._v("BILL FAILED")])])]),t._v(" "),a("div",{staticClass:"d-flex align-items-center mr-1"},[a("div",{staticClass:"app-search flex-fill"},[a("form",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.startDate,expression:"data.filters['startDate']"}],staticClass:"form-control bg-white border",attrs:{type:"date"},domProps:{value:e.filters.startDate},on:{input:function(a){a.target.composing||t.$set(e.filters,"startDate",a.target.value)}}}),t._v(" "),a("span",{staticClass:"mdi mdi mdi-calendar-arrow-right"}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("button",{class:["btn","btn-primary shadow-none"],attrs:{type:"submit",disabled:""}},[t._v("Start Date")])])])])])]),t._v(" "),a("div",{staticClass:"d-flex align-items-center"},[a("div",{staticClass:"app-search flex-fill"},[a("form",[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.endDate,expression:"data.filters['endDate']"}],staticClass:"form-control bg-white border",attrs:{type:"date"},domProps:{value:e.filters.endDate},on:{input:function(a){a.target.composing||t.$set(e.filters,"endDate",a.target.value)}}}),t._v(" "),a("span",{staticClass:"mdi mdi mdi-calendar-arrow-right"}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("button",{class:["btn","btn-primary shadow-none"],attrs:{type:"submit",disabled:""}},[t._v("End Date")])])])])])])])]}},{key:"table-row",fn:function(e){return[a("td",[a("i",{class:["mdi mdi-square","COMPLETED"===e.row.state?"text-success":"text-danger"]})]),t._v(" "),a("td",[a("span",{staticClass:"text-primary"},[t._v("#"+t._s(e.row.id))])]),t._v(" "),a("td",[a("span",{staticClass:"text-primary"},[a("router-link",{staticClass:"btn btn-sm btn-light px-3 py-1 mb-1 font-12",attrs:{to:"/admin/"+e.row.p_type+"/"+e.row.payment_id+"/view"}},[a("strong",[t._v(t._s(t._f("model")(e.row.p_type))+" #"+t._s(e.row.payment_id))])])],1),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"text-primary"},[a("router-link",{staticClass:"btn btn-sm btn-light px-3 py-1 mb-1 font-12",attrs:{to:"/admin/"+e.row.t_type+"/"+e.row.transaction_id+"/view"}},[a("strong",[t._v(t._s(t._f("model")(e.row.t_type))+" #"+t._s(e.row.transaction_id))])])],1),a("br")]),t._v(" "),a("td",[a("div",{},[t._v("Amount : "),a("strong",[t._v(t._s(e.row.amount))])]),t._v(" "),a("div",{},[t._v("Currency : "),a("strong",[t._v(t._s(e.row.currency))]),t._v(" : Rate :  "),a("strong",[t._v(" "+t._s(e.row.rate)+" ")])]),t._v(" "),a("div",{},[t._v("Payment Completed : "),a("i",{class:["mdi mdi-square",e.row.payment_completed?"text-success":"text-danger"]})]),t._v(" "),a("div",{},[t._v("Email : "),a("strong",[t._v(t._s(e.row.email))])])]),t._v(" "),a("td",[a("div",{},[t._v("Type : "),a("strong",[t._v(t._s(e.row.t_type))])]),t._v(" "),a("div",{},[t._v("Payment : "),a("strong",[t._v(t._s(e.row.p_type))])]),t._v(" "),a("div",{},[t._v("Channel : "),a("strong",[t._v(t._s(e.row.channel))])]),t._v(" "),a("div",{},[t._v("Phone : "),a("strong",[t._v(t._s(e.row.phone))])])]),t._v(" "),a("td",[a("div",{},[t._v("State : "),a("strong",[t._v(t._s(e.row.state))])]),t._v(" "),a("div",{},[t._v("Error : "),a("strong",[t._v(t._s(t._f("string_limit")(e.row.error)))])]),t._v(" "),a("div",{},[t._v("Ref : "),a("strong",[t._v(t._s(e.row.ref))])]),t._v(" "),a("div",{},[t._v("Payment Ref : "),a("strong",[t._v(t._s(e.row.payment_ref))])])]),t._v(" "),a("td",[t._v("\n            Scope : "),a("strong",[t._v(" "+t._s(e.row.scope)+" ")]),a("br"),t._v("\n            Created : "+t._s(e.row.created_at)+" "),a("br"),t._v("\n            Updated : "+t._s(e.row.updated_at)+"\n        ")]),t._v(" "),a("td",[a("router-link",{staticClass:"action-icon text-primary",attrs:{to:"/admin/transactions/"+e.row.id+"/view"}},[a("i",{staticClass:"mdi mdi-eye mdi-24px"})])],1)]}}])},[t._v(" "),a("template",{slot:"sort-fields"},[a("option",{attrs:{value:"created_at"}},[t._v("Created")]),t._v(" "),a("option",{attrs:{value:"updated_at"}},[t._v("Updated")])]),t._v(" "),a("template",{slot:"table-header"},[a("th"),t._v(" "),a("th",[t._v("ID")]),t._v(" "),a("th",[t._v("ID")]),t._v(" "),a("th",[t._v("Amount")]),t._v(" "),a("th",[t._v("Info")]),t._v(" "),a("th",[t._v("Info")]),t._v(" "),a("th",[t._v("Date")]),t._v(" "),a("th",{staticClass:"text-center"})])],2)}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=8236.js.map