"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[107],{9497:(t,a,e)=>{function s(t,a){for(var e=0;e<a.length;e++){var s=a[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}e.d(a,{Z:()=>i});const i=function(){function t(a){!function(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this,t),this.url=a.url,this.prefix=a.prefix,this.filters={},this.sort={field:"id",direction:"desc"},this.filters.size=10,this.filters.search="",this.loading=!1,this.page=1,this.content={current_page:1,data:[],total:0,to:0}}var a,e,i;return a=t,(e=[{key:"build",value:function(){var t="".concat(window.location.origin).concat(this.url,"?page=").concat(this.page);for(var a in this.filters)void 0!==this.filters[a]&&(t+="&".concat(a,"=").concat(this.filters[a]));return t+"&sort=".concat(this.sort.field,",").concat(this.sort.direction)}},{key:"fetch",value:function(){this.load(!1)}},{key:"append",value:function(){this.load(!0)}},{key:"load",value:function(t){var a=this;this.openLoader(),this.page=t?this.page+1:1,window.axios.get(this.build()).then((function(e){if(t)return e.data.body[a.prefix].data.forEach((function(t){a.content.data.push(t)})),a.content.to=e.data.body[a.prefix].to,void(a.content.total=e.data.body[a.prefix].total);a.content=e.data.body[a.prefix]})).catch((function(t){})).finally((function(){a.closeLoader()}))}},{key:"openLoader",value:function(){this.loading=!0}},{key:"closeLoader",value:function(){this.loading=!1}}])&&s(a.prototype,e),i&&s(a,i),t}()},5725:(t,a,e)=>{e.d(a,{Z:()=>r});var s=e(9497);const i={name:"page-index",props:["url","prefix","name"],data:function(){return{data:new s.Z({url:this.url,prefix:this.prefix})}},mounted:function(){this.data.fetch()}};const r=(0,e(1900).Z)(i,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("form",{staticClass:"card",on:{submit:function(a){return a.preventDefault(),t.data.fetch()}}},[e("div",{staticClass:"card-body d-flex flex-wrap flex-fill"},[t._t("filters",null,{filters:t.data.filters}),t._v(" "),e("div",{staticClass:"flex-fill form-group mr-2"},[e("div",{staticClass:"app-search"},[e("div",[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.filters.search,expression:"data.filters.search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.data.filters.search},on:{input:function(a){a.target.composing||t.$set(t.data.filters,"search",a.target.value)}}}),t._v(" "),e("span",{staticClass:"mdi mdi-magnify"}),t._v(" "),e("div",{staticClass:"input-group-append"},[e("button",{class:["btn btn-primary",t.data.loading?"btn-loading":""],attrs:{type:"submit"},on:{click:function(a){return a.preventDefault(),t.data.fetch()}}},[t._v("Search")])])])])])]),t._v(" "),e("div",{staticClass:"form-group"},[e("button",{class:["btn btn-primary",t.data.loading?"btn-loading":""],on:{click:function(a){return t.data.fetch()}}},[e("i",{staticClass:"mdi mdi-autorenew"})]),t._v(" "),t._t("actions")],2)],2)])]),t._v(" "),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"d-flex align-items-center p-3 flex-wrap"},[e("div",{staticClass:"h4 m-o"},[t._v("\n                    "+t._s(t.name)+"\n                ")]),t._v(" "),e("div",{staticClass:"ml-auto mr-3 d-flex align-items-center"},[e("div",{staticClass:"mr-2"},[t._v("Showing")]),t._v(" "),e("div",{staticClass:"form-group mb-0"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.data.filters.size,expression:"data.filters.size"}],staticClass:"custom-select",on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.data.filters,"size",a.target.multiple?e:e[0])},function(a){return t.data.fetch()}]}},[e("option",{attrs:{value:"10"}},[t._v("10")]),t._v(" "),e("option",{attrs:{value:"15"}},[t._v("15")]),t._v(" "),e("option",{attrs:{value:"25"}},[t._v("25")]),t._v(" "),e("option",{attrs:{value:"30"}},[t._v("30")]),t._v(" "),e("option",{attrs:{value:"50"}},[t._v("50")]),t._v(" "),e("option",{attrs:{value:"100"}},[t._v("100")])])])]),t._v(" "),e("div",{staticClass:"mr-3 d-flex align-items-center"},[e("div",{staticClass:"mr-2"},[t._v("Sort By")]),t._v(" "),e("div",{staticClass:"form-group mb-0"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.data.sort.field,expression:"data.sort.field"}],staticClass:"custom-select",on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.data.sort,"field",a.target.multiple?e:e[0])},function(a){return t.data.fetch()}]}},[e("option",{attrs:{value:"id"}},[t._v("ID")]),t._v(" "),t._t("sort-fields")],2)])]),t._v(" "),e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"form-group mb-0"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.data.sort.direction,expression:"data.sort.direction"}],staticClass:"custom-select",on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.data.sort,"direction",a.target.multiple?e:e[0])},function(a){return t.data.fetch()}]}},[e("option",{attrs:{value:"asc"}},[t._v("Ascending")]),t._v(" "),e("option",{attrs:{value:"desc"}},[t._v("Descending")])])])])]),t._v(" "),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-centered mb-0"},[e("thead",{staticClass:"thead-light"},[e("tr",[e("th"),t._v(" "),t._t("table-header"),t._v(" "),e("th")],2)]),t._v(" "),e("tbody",t._l(t.data.content.data,(function(a){return e("tr",[e("td"),t._v(" "),t._t("table-row",null,{row:a}),t._v(" "),e("td")],2)})),0)])]),t._v(" "),e("div",{staticClass:"card-body d-flex align-items-center border-top"},[e("div",{staticClass:"mr-auto font-weight-bolder"},[t._v("\n                    Showing "+t._s(t.data.content.data.length)+" of "+t._s(t.data.content.total)+" Records\n                ")]),t._v(" "),t.data.content.total!==t.data.content.to&&t.data.content.data.length>0?e("div",[e("button",{class:["btn btn-primary",t.data.loading?"btn-loading":""],on:{click:function(a){return t.data.append()}}},[t._v("Load More")])]):t._e()])])])])}),[],!1,null,null,null).exports},107:(t,a,e)=>{e.r(a),e.d(a,{default:()=>i});const s={components:{PageIndex:e(5725).Z}};const i=(0,e(1900).Z)(s,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("page-index",{attrs:{url:"/admin/portal/zesa",prefix:"list",name:"Zesa"},scopedSlots:t._u([{key:"filters",fn:function(a){return[e("div",{staticClass:"d-flex row align-items-center form-group mr-3"},[e("div",{staticClass:"mr-3 d-flex align-items-center"},[e("select",{directives:[{name:"model",rawName:"v-model",value:a.filters.state,expression:"data.filters['state']"}],staticClass:"custom-select",attrs:{type:"text"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(a.filters,"state",e.target.multiple?s:s[0])}}},[e("option",{domProps:{value:void 0}},[t._v("Choose State")]),t._v(" "),e("option",{attrs:{selected:"",value:"COMPLETED"}},[t._v("COMPLETED")]),t._v(" "),e("option",{attrs:{value:"GENERATING-TOKEN"}},[t._v("GENERATING TOKEN")]),t._v(" "),e("option",{attrs:{value:"TOKEN-FAILED"}},[t._v("TOKEN FAILED")]),t._v(" "),e("option",{attrs:{value:"PAYMENT-COMPLETED"}},[t._v("PAYMENT COMPLETED")]),t._v(" "),e("option",{attrs:{value:"ABORTED"}},[t._v("ABORTED")])])]),t._v(" "),e("div",{staticClass:"d-flex align-items-center mr-1"},[e("div",{staticClass:"app-search flex-fill"},[e("form",[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.filters.startDate,expression:"data.filters['startDate']"}],staticClass:"form-control bg-white border",attrs:{type:"date"},domProps:{value:a.filters.startDate},on:{input:function(e){e.target.composing||t.$set(a.filters,"startDate",e.target.value)}}}),t._v(" "),e("span",{staticClass:"mdi mdi mdi-calendar-arrow-right"}),t._v(" "),e("div",{staticClass:"input-group-append"},[e("button",{class:["btn","btn-primary shadow-none"],attrs:{type:"submit",disabled:""}},[t._v("Start Date")])])])])])]),t._v(" "),e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"app-search flex-fill"},[e("form",[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.filters.endDate,expression:"data.filters['endDate']"}],staticClass:"form-control bg-white border",attrs:{type:"date"},domProps:{value:a.filters.endDate},on:{input:function(e){e.target.composing||t.$set(a.filters,"endDate",e.target.value)}}}),t._v(" "),e("span",{staticClass:"mdi mdi mdi-calendar-arrow-right"}),t._v(" "),e("div",{staticClass:"input-group-append"},[e("button",{class:["btn","btn-primary shadow-none"],attrs:{type:"submit",disabled:""}},[t._v("End Date")])])])])])])])]}},{key:"table-row",fn:function(a){return[e("td",[e("i",{class:["mdi mdi-square","COMPLETED"===a.row.state?"text-success":"text-danger"]})]),t._v(" "),e("td",[e("span",{staticClass:"text-primary"},[e("router-link",{staticClass:"btn btn-sm btn-light px-3 py-1 mb-1 font-12",attrs:{to:"/admin/zesa/"+a.row.id+"/view"}},[e("strong",[t._v("Zesa  #"+t._s(a.row.id))])])],1),t._v(" "),e("br"),t._v(" "),a.row.transaction?e("div",[e("span",{staticClass:"text-primary"},[e("router-link",{staticClass:"btn btn-sm btn-light px-3 py-1 mb-1 font-12",attrs:{to:"/admin/transactions/"+a.row.transaction.id+"/view"}},[e("strong",[t._v("Transaction #"+t._s(a.row.transaction.id))])])],1),t._v(" "),e("br")]):t._e()]),t._v(" "),e("td",[e("div",{},[t._v("Meter : "),e("strong",[t._v(t._s(a.row.meter))])]),t._v(" "),e("div",{},[t._v("Amount : "),e("strong",[t._v(t._s(a.row.amount))])]),t._v(" "),e("div",{},[t._v("Attempts : "),e("strong",[t._v(t._s(a.row.attempts))])]),t._v(" "),e("div",{},[t._v("State : "),e("strong",[t._v(t._s(a.row.state))])])]),t._v(" "),e("td",[e("div",{},[t._v("Token : "),e("strong",[t._v(t._s(a.row.token_read))])]),t._v(" "),e("div",{},[t._v("Name : "),e("strong",[t._v(t._s(a.row.name))])]),t._v(" "),e("div",{},[t._v("Address : "),e("strong",[t._v(t._s(a.row.address))])]),t._v(" "),e("div",{},[t._v("Receipt : "),e("strong",[t._v(t._s(a.row.receiptNumber))])])]),t._v(" "),e("td",[e("div",{},[t._v("Vat : "),e("strong",[t._v(t._s(a.row.vatAmount))])]),t._v(" "),e("div",{},[t._v("Levy : "),e("strong",[t._v(t._s(a.row.levy))])]),t._v(" "),e("div",{},[t._v("Energy Bought : "),e("strong",[t._v(t._s(a.row.energyBought))])]),t._v(" "),e("div",{},[t._v("Energy Charged : "),e("strong",[t._v(t._s(a.row.energyCharge/100))])])]),t._v(" "),e("td",[t._v("\n            Rate :  "),e("strong",[t._v(" "+t._s(a.row.rate)+" ")]),e("br"),t._v("\n            Actual Amount :  "),e("strong",[t._v("ZWL "+t._s(a.row.rated_amount)+" ")]),e("br"),t._v("\n            Created : "+t._s(a.row.created_at)+" "),e("br"),t._v("\n            Updated : "+t._s(a.row.updated_at)+"\n        ")]),t._v(" "),e("td",[e("router-link",{staticClass:"action-icon text-primary",attrs:{to:"/admin/zesa/"+a.row.id+"/view"}},[e("i",{staticClass:"mdi mdi-eye mdi-24px"})])],1)]}}])},[e("template",{slot:"actions"},[e("router-link",{staticClass:"btn btn-primary ml-2",attrs:{to:"/admin/zesa/create"}},[t._v("New Zesa")])],1),t._v(" "),t._v(" "),e("template",{slot:"sort-fields"},[e("option",{attrs:{value:"created_at"}},[t._v("Created")]),t._v(" "),e("option",{attrs:{value:"updated_at"}},[t._v("Updated")])]),t._v(" "),e("template",{slot:"table-header"},[e("th"),t._v(" "),e("th",[t._v("ID")]),t._v(" "),e("th",[t._v("Amount")]),t._v(" "),e("th",[t._v("Info")]),t._v(" "),e("th",[t._v("Info")]),t._v(" "),e("th",[t._v("Date")]),t._v(" "),e("th",{staticClass:"text-center"})])],2)}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=107.js.map